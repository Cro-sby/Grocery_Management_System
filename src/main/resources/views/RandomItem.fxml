<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.VBox?>

<!-- Root ScrollPane with fx:controller -->

<ScrollPane fitToHeight="true" fitToWidth="true" prefHeight="747.0" prefWidth="635.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ca.mcgill.ecse.grocerymanagementsystem.view.ItemManagementPageController">
   <content>
        <!-- VBox directly inside ScrollPane content -->
        <VBox prefHeight="708.0" prefWidth="634.0" spacing="20.0">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>

            <!-- Main Title -->
            <Label style="-fx-font-size: 24px; -fx-font-weight: bold;" text="Item Management" />

            <!-- Add Item Section -->
            <TitledPane expanded="true" text="Add New Item">
                <content>
                    <VBox spacing="10.0">
                        <padding>
                            <Insets bottom="10" left="10" right="10" top="10" />
                        </padding>
                        <TextField fx:id="addItemNameInput" promptText="Item Name" />
                        <TextField fx:id="addItemPriceInput" promptText="Price (in cents)" />
                        <CheckBox fx:id="addItemIsPerishableInput" text="Is Perishable?" />
                        <TextField fx:id="addItemPointsInput" promptText="Loyalty Points (e.g., 1-5)" />
                        <Button fx:id="addItemButton" onAction="#handleAddItemClicked" text="Add Item" />
                    </VBox>
                </content>
            </TitledPane>

            <!-- Update Item Section -->
            <TitledPane text="Update Item Info">
                <content>
                    <VBox spacing="10.0">
                        <padding>
                            <Insets bottom="10" left="10" right="10" top="10" />
                        </padding>
                        <TextField fx:id="updateItemNameInput" promptText="Item Name to Update" />
                        <TextField fx:id="updateItemPriceInput" promptText="New Price (in cents)" />
                        <TextField fx:id="updateItemPointsInput" promptText="New Loyalty Points (e.g., 1-5)" />
                        <Button fx:id="updateItemButton" onAction="#handleUpdateItemClicked" text="Update Item" />
                    </VBox>
                </content>
            </TitledPane>

            <!-- Delete Item Section -->
            <TitledPane text="Delete Item">
                <content>
                    <VBox spacing="10.0">
                        <padding>
                            <Insets bottom="10" left="10" right="10" top="10" />
                        </padding>
                        <TextField fx:id="deleteItemNameInput" promptText="Item Name to Delete" />
                        <Button fx:id="deleteItemButton" onAction="#handleDeleteItemClicked" text="Delete Item" />
                    </VBox>
                </content>
            </TitledPane>

            <!-- Table Section - Make this container grow -->
            <ScrollPane fitToHeight="true" fitToWidth="true" VBox.vgrow="ALWAYS">
                <content>
                    <TableView fx:id="itemTableView"> <!-- Added fx:id -->
                        <columns>
                            <TableColumn fx:id="itemNameColumn" prefWidth="150.0" text="Name" />
                            <TableColumn fx:id="itemPriceColumn" prefWidth="75.20001220703125" text="Price" />
                            <TableColumn fx:id="itemQuantityColumn" prefWidth="118.39999389648438" text="Inventory Quantity" />
                            <TableColumn fx:id="itemPerishableColumn" prefWidth="140.79998779296875" text="Perishable" />
                            <TableColumn fx:id="itemPointsColumn" prefWidth="100.0" text="Points" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                </content>
            </ScrollPane>

            <!-- Refresh Button -->
            <Button fx:id="refreshButton" onAction="#handleRefreshClicked" text="Refresh Table" />

            <!-- Status Label -->
            <Label fx:id="statusLabel" text="" />
        </VBox>
   </content>
</ScrollPane>
